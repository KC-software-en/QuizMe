{% extends "index.html" %}
{% load static %}
<!DOCTYPE html>
<html lang = "en">
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
	integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">		
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
	<!--NOTE: the url to stylesheet & palcement of '/'; this renders external css correctly-->
	<link href="{% static 'CSS/StyleSheet_edu.css' %}" rel = "stylesheet" type = "text/css"> 
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>{% block title %}Education Quiz{% endblock %}</title>	
</head>    

<body>
	{% block content %}
    <!-- Nav bar template for all pages-->

    <h1 style="text-align: center;">QuizMe</h1>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="{% url 'Education:index' %}" aria-disabled="true">Home </a>
                    </li>  
                    
                    <li class="nav-item">
                        <!-- link to Education quiz home page 
                        include category_id in tag to avoid a NoReverseMatch error in template rendering-->
                        <a class="nav-link active" href="{% url 'Education:index_edu' %}">Education</a>
                    </li>
                </ul>
                <div class="item" style="color: #27a5ff;">
                {% if user.is_authenticated %}
                    {{user.username}}
                {% endif %}
                </div>
                <div class="dropdown">
                    <button class="dropbtn">Account
                      <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        {% if user.is_authenticated %}
                            <a href="{% url 'user_auth:logout' %}">Logout</a>
                        {% else %}
                            <a href="{% url 'user_auth:login' %}">Login</a>
                            <a href="{% url 'user_auth:register' %}">Register</a>                                                                  
                        {% endif %}
                    </div>
                  </div>
            </div>
        </div>
    </nav>
	    <section>     
            <div class = "row">
                <div class = "col-md-12">
                    <!-- show a heading for the categories in education-->
                    <h1>Education Quiz Categories</h1> 
                </div>
            </div>            
            
            <!--check if there are category names -->            
            <!-- list the categories-->
            {% if category_names %}  
                {% for category_name in category_names %}
                    <!--check if there are 10 questions for the category -->
                    {% if question_selection %}
                        
                        <div class = "row">
                            <!--an image button for the category -->                    
                            <div class = "col-md-6">
                                <!--let the image adapt to viewport width- fluid layout expands to fill the available space -->                    
                                <div class="container-fluid">
                                    
                                    <!--Mythology category-->
                                    {% if category_name == "Mythology" %}
                                        <!-- call the url for the detail view of the first object in the question_selection queryset -->                    
                                        <!--alter the url to include the app_name=Education 
                                        because namespaces are used to differentiate views between apps & create a url with the template tag-->
                                        <!-- pass parameters as keyword arguments from detail view without spaces or commas 
                                        generate links with the appropriate category_name. 
                                        the category_name is extracted from the selected_category object in utils.get_category_names-->
                                        <!-- display the name of the category as the button that takes you to the quiz -->
                                        <a href = "{% url 'Education:edu_detail' category_name=category_name question_id=first_question_id %}" class="btn">                                                 

                                            <img src ="{% static 'assets/mythology.png' %}" 
                                                alt = "Mythology" 
                                                class = "subcategory_image">
                                                
                                            <div class="subcategory_overlay">
                                                <div class="subcategory_text">
                                                    {{ category_name }}
                                                </div>
                                            </div>

                                        </a>    

                                    <!--Science & Nature category-->
                                    {% elif category_name == "Science & Nature" %}
                                        <a href = "{% url 'Education:edu_detail' category_name=category_name question_id=first_question_id %}" class="btn">                                                 

                                            <img src ="{% static 'assets/science_and_nature.png' %}" 
                                            alt = "Science & Nature" 
                                            class = "subcategory_image">

                                            <div class="subcategory_overlay">
                                                <div class="subcategory_text">
                                                    {{ category_name }}
                                                </div>
                                            </div>
                                            
                                        </a>  

                                    {% endif %} 
                                    
                                </div>
                            </div>
                            
                            <div class = "col-md-6">
                                <!--a description for the Mythology category -->                    
                                {% if category_name == "Mythology" %}
                                    <p>Embark on a captivating journey into the realms of ancient myths and legends with our Literature Studies Quiz on Mythology. 
                                        Delve into the rich tapestry of stories that have transcended time and culture, shaping the way we perceive the world and understand the human experience.
                                        <br><br>
                                        This quiz is designed for literature enthusiasts, students, and anyone with a passion for exploring the profound narratives that have woven themselves into the fabric of literary history. 
                                        From Greek and Roman epics to Norse sagas, immerse yourself in the fascinating world of gods, heroes, and mythical creatures.
                                    </p>

                                <!--a description for the Science & Nature category -->                    
                                {% elif category_name == "Science & Nature" %}
                                    <p>Embark on a fascinating journey through the wonders of Science and Nature with our comprehensive quiz that spans the realms of physics, biology, chemistry, and the mysteries of the natural world. 
                                        Test your knowledge on a wide range of topics, from the elements on the Periodic Table to the secrets hidden within the human body.
                                        <br><br>
                                        This quiz is designed to challenge your understanding of the world around you. 
                                        From the mysteries of space to the intricate details of cellular biology, each question will unlock a new realm of knowledge. 
                                        Whether you're a science enthusiast or just curious about the natural world, our Science and Nature Quiz promises an engaging and educational experience.
                                    </p>
                                
                                {% endif %} 
                            </div>
                        </div>                                                         
                        
                    {% endif %}                
                {% endfor %}
            <!--display an error message if a quiz was not found for a category -->
            {% else %}
                <p>No quizzes are available.</p>
            {% endif %}

        </section>
	{% endblock %}
    
</body>
</html>
