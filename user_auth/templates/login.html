{% extends "index.html" %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{% block title %}Login{% endblock %}</title>
            <!-- Required meta tags -->
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width, initial-scale=1">

            <!-- Bootstrap CSS -->
            <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    </head>
        <body>
            {% block header %}

            {% endblock %}

            {% block content %}
            <!-- set a black navbar 
        https://getbootstrap.com/docs/5.0/components/navbar/-->        
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark my-4 py-4 px-4">
            <!-- link to QuizMe home page -->
            <a class="navbar-brand me-4" href="{% url 'Education:index' %}">QuizMe</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
        
            <!-- create a collapsible navigation menu for smaller screens -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent" >
                <!-- list the items on the navbar -->
                <ul class="navbar-nav mr-auto py-auto" >

                <li class="nav-item active px-2">
                    <a class="nav-link" href="{% url 'General_Knowledge:index_gen' %}" style="color: floralwhite;">General Knowledge</a>
                </li>
                <li class="nav-item active px-2">
                    <a class="nav-link" href="{% url 'Education:index_edu' %}" style="color: floralwhite;">Education</a>
                </li>
                <li class="nav-item active px-2">
                    <a class="nav-link pe-5" href="{% url 'Entertainment:index_en' %}" style="color: floralwhite;">Entertainment</a>
                </li>
                <div class="d-flex align-items-center justify-content-end">
                    <li class="nav-item ps-6 px-4 ms-4" style="color: coral;"> 
                        <!-- show a logged in user -->
                        {% if user.is_authenticated %}
                            {{user.username}}
                        {% endif %}
                    </li>
                    <li class="nav-item dropdown px-4 me-4">
                        <div class="dropdown text-right">
                            <button class="dropbtn">Account
                                <i class="fa fa-caret-down"></i>
                            </button>
                            <div class="dropdown-content">
                                {% if user.is_authenticated %}
                                    <a href="{% url 'user_auth:logout' %}">Logout</a>
                                {% else %}
                                    <a href="{% url 'user_auth:login' %}">Login</a>
                                    <a href="{% url 'user_auth:register' %}">Register</a>                                                                  
                                {% endif %}
                            </div>
                        </div>
                    </li>
                
                    </ul>
                    <div class="d-flex">
                        <form class="form-inline my-2 my-lg-0 me-2">
                            <input class="form-control mr-sm-2 me-2" type="search" placeholder="Find a quiz" aria-label="Search">
                            <!-- You can add additional styling or classes for further customization -->
                        </form>
                        <button class="btn my-2 my-sm-0" type="submit" id="searchbar_button" >Search</button>
                    </div>

                </div>
            </div>
        </nav>
            
            <!-- login form -->
            <div class="row">
                <div class="col-md">
                    <div class="d-flex justify-content-center pt-4">
                        <form action="{% url 'user_auth:authenticate_user' %}" method="post" class="user_auth_login">
                            {% csrf_token %}
                        
                            <!-- use input-groups for each field and place icons on the left-->
					        <!--link for bootstap icons must be in head of base template to apply in child template, else svg can work here-->								
                            <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">								
                                        <i class="bi bi-person-circle"></i>
                                    </span>
                                </div>
                                <!--use form-control to customise input fields-->
                                <input type="text" name="username" placeholder="Username" class="form-control" required>
                            </div>
                        
                            <!-- use input-groups for each field and place icons on the left-->
					        <div class="input-group mb-3">
					        	<div class="input-group-append">
					        		<span class="input-group-text">								
					        			<i class="bi bi-key-fill"></i>
					        		</span>
					        	</div>
					        		<!--use form-control to customise input fields-->
					        		<input type="password" name="password" placeholder="Password" class="form-control" required>
					        </div>
                        
                            <!--login button-->		
					        <center>
                            <input type="submit" value="Login" />
                            </center>
                        </form>
                    </div>
                </div>        
            </div>  
            {% endblock %}
        </body>
</html>




